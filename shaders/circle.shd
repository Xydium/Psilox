VERTEX:

#version 130

uniform vec3 u_origin;

out vec4 color;
out vec2 origin;

void main() {
	gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex;
	color = gl_Color;
	origin = u_origin.xy;
}

FRAGMENT:

#version 130

uniform float u_radius;

in vec4 color;
in vec2 origin;

void main() {
	float d = distance(gl_FragCoord.xy, origin); 
	
	if(d <= u_radius) {	
		gl_FragColor = color;
	} else {
		gl_FragColor = vec4(0, 0, 0, 0);
	}
}